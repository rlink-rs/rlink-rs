
# 命令交互
流计算中心跳上报、Checkpoint收集等等，都会涉及命令交互处理，rlink采用有别于命令下发方式的一套方案，简化命令操作。

命令交互采用时间窗口方式定时触发，Coordinator和Worker采用一致窗口周期，保证在一个窗口内只触发一次，
Worker负责任务执行，Coordinator则在当前窗口内等待所有Worker执行提交。
在该模式下，命令不需要Coordinator下发到每个Worker，所有节点在约定的周期内各自触发，但前提是所有节点时钟同步

eg: 比如10s进行checkpoint操作， Coordinator和Worker各自开启10s定时器，
定时器的规则生成的窗口有00:00~00:10, 00:10~00:20, 00:20~00:30，每个窗口内，Coordinator负责等待响应，Worker负责执行
```
               00:00     00:10     00:20     00:30
────────────────┬─────────┬─────────┬─────────┬─────
                │         │         │         │
┌─────────────┐
│ Coordinator │     xx       xx           xx
└─────────────┘

┌─────────────┐
│   Worker    │       xx       xx        xx
└─────────────┘

┌─────────────┐
│   Worker    │    xx           xx         xx
└─────────────┘
```